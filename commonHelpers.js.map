{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport Axios from 'axios';\n\n// export let perPage = 1;\nexport async function getImages(query, currentPage) {\n  const axios = Axios.create({\n    baseURL: 'https://pixabay.com/api/',\n    params: {\n      key: '43101979-d4b3d95f27087e7220544f5cb',\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      page: currentPage,\n      per_page: 15,\n    },\n  });\n\n  const response = await axios.get('');\n  // todo\n  console.log(response.data);\n  console.log(response.data.totalHits >= response.data.hits.length);\n  return response.data;\n}\n\n// export function loadMore(query) {\n//   perPage += 1;\n//   axios.get('');\n//   console.log(response.data);\n\n//   return response.data;\n// }\n\n// const API_KEY = '43101979-d4b3d95f27087e7220544f5cb';\n// const baseURL = 'https://pixabay.com/api/?';\n// const params = new URLSearchParams({\n//   key: API_KEY,\n//   q: query,\n//   image_type: 'photo',\n//   orientation: 'horizontal',\n//   safesearch: true,\n// });\n// const URL = baseURL + params;\n\n//   return fetch(URL).then(response => {\n//     if (!response.ok) {\n//       throw new Error(response.status);\n//     }\n//     return response.json();\n//   });\n\n// У файлі pixabay-api.js зберігай функції для HTTP-запитів.\n\n// key — твій унікальний ключ доступу до API.  43101979-d4b3d95f27087e7220544f5cb\n// q — слово для пошуку. Те, що буде вводити користувач.\n// image_type — тип зображення. Потрібні тільки фотографії, тому постав значення photo.\n// orientation — орієнтація фотографії. Постав значення horizontal.\n// safesearch — фільтр за віком. Постав значення true.\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const galleryEl = document.querySelector('.gallery');\nexport function createMarkUp(images) {\n  const markUp = images\n    .map(\n      image => `<li class=\"gallery-item\">\n  <a class=\"gallery-link\"\n    href=\"${image.largeImageURL}\"\n    ><img class=\"img\" \n      src=\"${image.webformatURL}\"\n      alt=\"${image.tags}\"\n  />\n  <ul class=\"img-dscr\">\n    <li>\n      <p><b>Likes</b><br /> ${image.likes}</p>\n    </li>\n    <li>\n      <p><b>Views</b><br /> ${image.views}</p>\n    </li>\n    <li>\n      <p><b>Comments</b><br /> ${image.comments}</p>\n    </li>\n    <li>\n      <p><b>Downloads</b><br /> ${image.downloads}</p>\n    </li>\n  </ul>\n  </a>\n</li>\n\n`\n    )\n    .join('');\n  galleryEl.insertAdjacentHTML('beforeend', markUp);\n  const lightbox = new SimpleLightbox('.gallery-link', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n}\n\n// У файлі render-functions.js створи функції для відображення елементів інтерфейсу.\n","import './js/pixabay-api.js';\nimport { getImages } from './js/pixabay-api.js';\nimport './js/render-function.js';\nimport { createMarkUp, galleryEl } from './js/render-function.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  formEl: document.querySelector('.form'),\n  inputEl: document.querySelector('input'),\n  loaderEl: document.querySelector('.loader'),\n  loadMoreBtn: document.querySelector('.load-btn'),\n};\n\nrefs.formEl.addEventListener('submit', async event => {\n  event.preventDefault();\n  refs.loaderEl.classList.add('is-open');\n  galleryEl.innerHTML = '';\n  lightbox.refresh();\n\n  const queryTrimed = refs.inputEl.value.trim();\n  if (queryTrimed === '') {\n    refs.loaderEl.classList.remove('is-open');\n    return iziToast.warning({\n      title: 'Caution',\n      message: 'Please complete the field!',\n      position: 'topRight',\n    });\n  }\n\n  let arrImages;\n  try {\n    arrImages = await getImages(queryTrimed, 1);\n\n    if (arrImages.hits.length === 0) {\n      refs.loaderEl.classList.remove('is-open');\n      return iziToast.info({\n        title: 'Sorry',\n        message:\n          'There are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n    }\n\n    createMarkUp(arrImages.hits);\n  } catch {\n    error => {\n      console.error('Error fetching images:', error);\n    };\n  } finally {\n    refs.loaderEl.classList.remove('is-open');\n\n    if (\n      arrImages.totalHits >= arrImages.hits.length &&\n      arrImages.hits.length !== 0\n    ) {\n      refs.loadMoreBtn.classList.add('is-open');\n    }\n  }\n\n  // todo\n  refs.loadMoreBtn.addEventListener('submit', async e => {\n    const arrImages = await getImages(queryTrimed, 2);\n    createMarkUp(arrImages.hits);\n  });\n\n  refs.inputEl.value = '';\n});\n\nconst lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n// У файлі main.js напиши всю логіку роботи додатка.\n"],"names":["getImages","query","currentPage","response","Axios","galleryEl","createMarkUp","images","markUp","image","SimpleLightbox","refs","event","lightbox","queryTrimed","iziToast","arrImages","e"],"mappings":"owBAIO,eAAeA,EAAUC,EAAOC,EAAa,CAclD,MAAMC,EAAW,MAbHC,EAAM,OAAO,CACzB,QAAS,2BACT,OAAQ,CACN,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAMC,EACN,SAAU,EACX,CACL,CAAG,EAE4B,IAAI,EAAE,EAEnC,eAAQ,IAAIC,EAAS,IAAI,EACzB,QAAQ,IAAIA,EAAS,KAAK,WAAaA,EAAS,KAAK,KAAK,MAAM,EACzDA,EAAS,IAClB,CCpBO,MAAME,EAAY,SAAS,cAAc,UAAU,EACnD,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAASD,EACZ,IACCE,GAAS;AAAA;AAAA,YAEHA,EAAM,aAAa;AAAA;AAAA,aAElBA,EAAM,YAAY;AAAA,aAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,8BAIOA,EAAM,KAAK;AAAA;AAAA;AAAA,8BAGXA,EAAM,KAAK;AAAA;AAAA;AAAA,iCAGRA,EAAM,QAAQ;AAAA;AAAA;AAAA,kCAGbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAO5C,EACA,KAAK,EAAE,EACVJ,EAAU,mBAAmB,YAAaG,CAAM,EAC/B,IAAIE,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAClB,CAAG,CACH,CC9BA,MAAMC,EAAO,CACX,OAAQ,SAAS,cAAc,OAAO,EACtC,QAAS,SAAS,cAAc,OAAO,EACvC,SAAU,SAAS,cAAc,SAAS,EAC1C,YAAa,SAAS,cAAc,WAAW,CACjD,EAEAA,EAAK,OAAO,iBAAiB,SAAU,MAAMC,GAAS,CACpDA,EAAM,eAAc,EACpBD,EAAK,SAAS,UAAU,IAAI,SAAS,EACrCN,EAAU,UAAY,GACtBQ,EAAS,QAAO,EAEhB,MAAMC,EAAcH,EAAK,QAAQ,MAAM,KAAI,EAC3C,GAAIG,IAAgB,GAClB,OAAAH,EAAK,SAAS,UAAU,OAAO,SAAS,EACjCI,EAAS,QAAQ,CACtB,MAAO,UACP,QAAS,6BACT,SAAU,UAChB,CAAK,EAGH,IAAIC,EACJ,GAAI,CAGF,GAFAA,EAAY,MAAMhB,EAAUc,EAAa,CAAC,EAEtCE,EAAU,KAAK,SAAW,EAC5B,OAAAL,EAAK,SAAS,UAAU,OAAO,SAAS,EACjCI,EAAS,KAAK,CACnB,MAAO,QACP,QACE,oEACF,SAAU,UAClB,CAAO,EAGHT,EAAaU,EAAU,IAAI,CAC/B,MAAU,CAIV,QAAY,CACRL,EAAK,SAAS,UAAU,OAAO,SAAS,EAGtCK,EAAU,WAAaA,EAAU,KAAK,QACtCA,EAAU,KAAK,SAAW,GAE1BL,EAAK,YAAY,UAAU,IAAI,SAAS,CAE3C,CAGDA,EAAK,YAAY,iBAAiB,SAAU,MAAMM,GAAK,CACrD,MAAMD,EAAY,MAAMhB,EAAUc,EAAa,CAAC,EAChDR,EAAaU,EAAU,IAAI,CAC/B,CAAG,EAEDL,EAAK,QAAQ,MAAQ,EACvB,CAAC,EAED,MAAME,EAAW,IAAIH,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC"}