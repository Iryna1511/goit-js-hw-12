{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport Axios from 'axios';\n\nexport async function getImages(query, currentPage) {\n  const axios = Axios.create({\n    baseURL: 'https://pixabay.com/api/',\n    params: {\n      key: '43101979-d4b3d95f27087e7220544f5cb',\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      page: currentPage,\n      per_page: 15,\n    },\n  });\n\n  const response = await axios.get('');\n  return response.data;\n}\n\n// export function loadMore(query) {\n//   perPage += 1;\n//   axios.get('');\n//   console.log(response.data);\n\n//   return response.data;\n// }\n\n// const API_KEY = '43101979-d4b3d95f27087e7220544f5cb';\n// const baseURL = 'https://pixabay.com/api/?';\n// const params = new URLSearchParams({\n//   key: API_KEY,\n//   q: query,\n//   image_type: 'photo',\n//   orientation: 'horizontal',\n//   safesearch: true,\n// });\n// const URL = baseURL + params;\n\n//   return fetch(URL).then(response => {\n//     if (!response.ok) {\n//       throw new Error(response.status);\n//     }\n//     return response.json();\n//   });\n\n// У файлі pixabay-api.js зберігай функції для HTTP-запитів.\n\n// key — твій унікальний ключ доступу до API.  43101979-d4b3d95f27087e7220544f5cb\n// q — слово для пошуку. Те, що буде вводити користувач.\n// image_type — тип зображення. Потрібні тільки фотографії, тому постав значення photo.\n// orientation — орієнтація фотографії. Постав значення horizontal.\n// safesearch — фільтр за віком. Постав значення true.\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const galleryEl = document.querySelector('.gallery');\nexport function createMarkUp(images) {\n  const markUp = images\n    .map(\n      image => `<li class=\"gallery-item\">\n  <a class=\"gallery-link\"\n    href=\"${image.largeImageURL}\"\n    ><img class=\"img\" loading=\"lazy\"\n      src=\"${image.webformatURL}\"\n      alt=\"${image.tags}\"\n  />\n  <ul class=\"img-dscr\">\n    <li>\n      <p><b>Likes</b><br /> ${image.likes}</p>\n    </li>\n    <li>\n      <p><b>Views</b><br /> ${image.views}</p>\n    </li>\n    <li>\n      <p><b>Comments</b><br /> ${image.comments}</p>\n    </li>\n    <li>\n      <p><b>Downloads</b><br /> ${image.downloads}</p>\n    </li>\n  </ul>\n  </a>\n</li>\n\n`\n    )\n    .join('');\n  galleryEl.insertAdjacentHTML('beforeend', markUp);\n  const lightbox = new SimpleLightbox('.gallery-link', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n}\n\n// У файлі render-functions.js створи функції для відображення елементів інтерфейсу.\n","import './js/pixabay-api.js';\nimport { getImages } from './js/pixabay-api.js';\nimport './js/render-function.js';\nimport { createMarkUp, galleryEl } from './js/render-function.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  formEl: document.querySelector('.form'),\n  inputEl: document.querySelector('input'),\n  loaderEl: document.querySelector('.loader'),\n  loadMoreBtn: document.querySelector('.load-btn'),\n};\nlet queryTrimed;\nlet currentPage = 1;\nlet maxPage = 0;\nconst ppageSize = 15;\nlet arrImages;\n\nrefs.formEl.addEventListener('submit', onFormSubmit);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nasync function onFormSubmit(event) {\n  event.preventDefault();\n  showLoader();\n  galleryEl.innerHTML = '';\n  lightbox.refresh();\n\n  queryTrimed = refs.inputEl.value.trim();\n  if (queryTrimed === '') {\n    hideLoader();\n    return iziToast.warning({\n      title: 'Caution',\n      message: 'Please complete the field!',\n      position: 'topRight',\n    });\n  }\n  currentPage = 1;\n\n  try {\n    arrImages = await getImages(queryTrimed, currentPage);\n    maxPage = Math.ceil(arrImages.totalHits / ppageSize);\n\n    if (arrImages.hits.length === 0) {\n      hideLoader();\n      checkBtnStatus();\n      return iziToast.info({\n        title: 'Sorry',\n        message:\n          'There are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n    }\n\n    createMarkUp(arrImages.hits);\n  } catch (error) {\n    console.error('Error fetching images:', error);\n  } finally {\n    hideLoader();\n    checkBtnStatus();\n  }\n\n  refs.inputEl.value = '';\n}\n\nasync function onLoadMore(event) {\n  showLoader();\n  currentPage += 1;\n  try {\n    arrImages = await getImages(queryTrimed, currentPage);\n    createMarkUp(arrImages.hits);\n  } catch (error) {\n    console.error('Error fetching images:', error);\n  } finally {\n    hideLoader();\n    checkBtnStatus();\n  }\n}\n\nfunction showLoader() {\n  refs.loaderEl.classList.add('is-open');\n}\nfunction hideLoader() {\n  refs.loaderEl.classList.remove('is-open');\n}\nfunction showBtnLoad() {\n  refs.loadMoreBtn.classList.add('is-open');\n}\nfunction hideBtnLoad() {\n  refs.loadMoreBtn.classList.remove('is-open');\n}\nfunction checkBtnStatus() {\n  if (currentPage >= maxPage) {\n    hideBtnLoad();\n  } else {\n    showBtnLoad();\n  }\n}\n\nconst lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n// У файлі main.js напиши всю логіку роботи додатка.\n\n//  && arrImages.hits.length !== 0\n"],"names":["getImages","query","currentPage","Axios","galleryEl","createMarkUp","images","markUp","image","SimpleLightbox","refs","queryTrimed","maxPage","ppageSize","arrImages","onFormSubmit","onLoadMore","event","showLoader","lightbox","hideLoader","iziToast","checkBtnStatus","error","showBtnLoad","hideBtnLoad"],"mappings":"owBAGO,eAAeA,EAAUC,EAAOC,EAAa,CAelD,OADiB,MAbHC,EAAM,OAAO,CACzB,QAAS,2BACT,OAAQ,CACN,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAMC,EACN,SAAU,EACX,CACL,CAAG,EAE4B,IAAI,EAAE,GACnB,IAClB,CChBO,MAAME,EAAY,SAAS,cAAc,UAAU,EACnD,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAASD,EACZ,IACCE,GAAS;AAAA;AAAA,YAEHA,EAAM,aAAa;AAAA;AAAA,aAElBA,EAAM,YAAY;AAAA,aAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,8BAIOA,EAAM,KAAK;AAAA;AAAA;AAAA,8BAGXA,EAAM,KAAK;AAAA;AAAA;AAAA,iCAGRA,EAAM,QAAQ;AAAA;AAAA;AAAA,kCAGbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAO5C,EACA,KAAK,EAAE,EACVJ,EAAU,mBAAmB,YAAaG,CAAM,EAC/B,IAAIE,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAClB,CAAG,CACH,CC9BA,MAAMC,EAAO,CACX,OAAQ,SAAS,cAAc,OAAO,EACtC,QAAS,SAAS,cAAc,OAAO,EACvC,SAAU,SAAS,cAAc,SAAS,EAC1C,YAAa,SAAS,cAAc,WAAW,CACjD,EACA,IAAIC,EACAT,EAAc,EACdU,EAAU,EACd,MAAMC,EAAY,GAClB,IAAIC,EAEJJ,EAAK,OAAO,iBAAiB,SAAUK,CAAY,EACnDL,EAAK,YAAY,iBAAiB,QAASM,CAAU,EAErD,eAAeD,EAAaE,EAAO,CAOjC,GANAA,EAAM,eAAc,EACpBC,IACAd,EAAU,UAAY,GACtBe,EAAS,QAAO,EAEhBR,EAAcD,EAAK,QAAQ,MAAM,KAAI,EACjCC,IAAgB,GAClB,OAAAS,IACOC,EAAS,QAAQ,CACtB,MAAO,UACP,QAAS,6BACT,SAAU,UAChB,CAAK,EAEHnB,EAAc,EAEd,GAAI,CAIF,GAHAY,EAAY,MAAMd,EAAUW,EAAaT,CAAW,EACpDU,EAAU,KAAK,KAAKE,EAAU,UAAYD,CAAS,EAE/CC,EAAU,KAAK,SAAW,EAC5B,OAAAM,IACAE,IACOD,EAAS,KAAK,CACnB,MAAO,QACP,QACE,oEACF,SAAU,UAClB,CAAO,EAGHhB,EAAaS,EAAU,IAAI,CAC5B,OAAQS,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CACjD,QAAY,CACRH,IACAE,GACD,CAEDZ,EAAK,QAAQ,MAAQ,EACvB,CAEA,eAAeM,EAAWC,EAAO,CAC/BC,IACAhB,GAAe,EACf,GAAI,CACFY,EAAY,MAAMd,EAAUW,EAAaT,CAAW,EACpDG,EAAaS,EAAU,IAAI,CAC5B,OAAQS,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CACjD,QAAY,CACRH,IACAE,GACD,CACH,CAEA,SAASJ,GAAa,CACpBR,EAAK,SAAS,UAAU,IAAI,SAAS,CACvC,CACA,SAASU,GAAa,CACpBV,EAAK,SAAS,UAAU,OAAO,SAAS,CAC1C,CACA,SAASc,GAAc,CACrBd,EAAK,YAAY,UAAU,IAAI,SAAS,CAC1C,CACA,SAASe,GAAc,CACrBf,EAAK,YAAY,UAAU,OAAO,SAAS,CAC7C,CACA,SAASY,GAAiB,CACpBpB,GAAeU,EACjBa,IAEAD,GAEJ,CAEA,MAAML,EAAW,IAAIV,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC"}